import { GoogleGenerativeAI } from "@google/generative-ai";


  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
    systemInstruction: "\n",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
 
   export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget,Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON format travel plan for a couple's 3-day, budget-friendly trip to Las Vegas, including hotel options and a detailed itinerary.\n\n```json\n{\n  \"tripDetails\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"budget\": \"Cheap\",\n    \"travelers\": \"Couple\"\n  },\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$30 - $60 per night (approximate)\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1b/d1/9c/49/circus-circus-hotel-casino.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1262,\n        \"longitude\": -115.1667\n      },\n      \"rating\": 3.5,\n      \"description\": \"A classic Vegas hotel with a circus theme, offering affordable rooms and free circus acts. Features a casino, Adventuredome theme park, and multiple dining options. Good for budget travelers and families.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$35 - $70 per night (approximate)\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/20/0a/1f/excalibur-hotel-casino.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0984,\n        \"longitude\": -115.1744\n      },\n      \"rating\": 3.7,\n      \"description\": \"A medieval-themed hotel with affordable rates.  Features a casino, multiple restaurants, and the Tournament of Kings dinner show. Located at the south end of the Strip.\"\n    },\n    {\n      \"hotelName\": \"Luxor Hotel & Casino\",\n      \"hotelAddress\": \"3900 S Las Vegas Blvd, Las Vegas, NV 89119\",\n      \"price\": \"$40 - $80 per night (approximate)\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/25/73/5e/04/luxor-hotel-casino.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0956,\n        \"longitude\": -115.1759\n      },\n      \"rating\": 3.8,\n      \"description\": \"An Egyptian-themed hotel in a pyramid shape. Offers various attractions, a casino, and several dining choices. Located on the south end of the strip, it provides good value for its unique design.\"\n    },\n    {\n      \"hotelName\": \"Flamingo Las Vegas\",\n      \"hotelAddress\": \"3555 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50 - $90 per night (approximate)\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/26/7a/18/31/flamingo-las-vegas.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1167,\n        \"longitude\": -115.1754\n      },\n      \"rating\": 4.0,\n      \"description\": \"A classic Vegas hotel with a vibrant, tropical theme. Features a wildlife habitat with flamingos, a casino, and a central Strip location. Slightly more expensive but offers a prime location.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip (South End)\",\n      \"bestTimeToVisit\": \"Afternoon/Evening\",\n      \"locations\": [\n        {\n          \"placeName\": \"Welcome to Fabulous Las Vegas Sign\",\n          \"placeDetails\": \"Iconic sign at the south end of the Strip. A must-see for a photo opportunity. Can be very crowded.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Las_Vegas_Sign_Night.jpg/1280px-Las_Vegas_Sign_Night.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1731\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"travelTimeFromHotel\": \"10-20 minutes by car/bus from most hotels on the Strip\",\n          \"bestTimeToVisit\": \"Morning (less crowded) or evening (for the lit-up sign)\"\n        },\n        {\n          \"placeName\": \"Luxor Hotel & Casino\",\n          \"placeDetails\": \"Visit the Luxor to marvel at its pyramid shape and take some photos outside and inside.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/48/Luxor_Hotel_%26_Casino.jpg/1280px-Luxor_Hotel_%26_Casino.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0956,\n            \"longitude\": -115.1759\n          },\n          \"ticketPricing\": \"Free to enter; attractions inside may have fees\",\n          \"rating\": 4.0,\n          \"travelTimeFromHotel\": \"Walking distance if staying nearby, short taxi/ride-share if not.\",\n          \"bestTimeToVisit\": \"Anytime during the day\"\n        },\n        {\n          \"placeName\": \"Excalibur Hotel & Casino\",\n          \"placeDetails\": \"Continue walking north on the Strip to the Excalibur, known for its medieval theme. Good photo ops outside.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/41/Excalibur_Hotel_from_Tropicana_Avenue.jpg/1280px-Excalibur_Hotel_from_Tropicana_Avenue.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0984,\n            \"longitude\": -115.1744\n          },\n          \"ticketPricing\": \"Free to enter; attractions inside may have fees\",\n          \"rating\": 3.8,\n          \"travelTimeFromHotel\": \"Walking distance from Luxor or other south-Strip hotels.\",\n          \"bestTimeToVisit\": \"Anytime during the day\"\n        },\n        {\n          \"placeName\": \"Mandalay Bay Shark Reef Aquarium (Optional)\",\n          \"placeDetails\": \"If interested in marine life, visit the Shark Reef Aquarium at Mandalay Bay.\",\n          \"placeImageUrl\": \"https://www.vegas4locals.com/wp-content/uploads/2021/04/shark-reef-aquarium.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0906,\n            \"longitude\": -115.1757\n          },\n          \"ticketPricing\": \"$29 per adult (approximate)\",\n          \"rating\": 4.2,\n          \"travelTimeFromHotel\": \"Walking distance from Luxor/Excalibur; short ride from further hotels.\",\n          \"bestTimeToVisit\": \"During the day; avoid peak hours for fewer crowds.\"\n        },\n        {\n          \"placeName\": \"Free Fountains of Bellagio Show\",\n          \"placeDetails\": \"Witness the free mesmerizing water show at the Bellagio.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/Fountains_of_Bellagio_2018.jpg/1280px-Fountains_of_Bellagio_2018.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1741\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.8,\n          \"travelTimeFromHotel\": \"Take a bus or a taxi to the Bellagio. Takes about 10-15 Minutes.\",\n          \"bestTimeToVisit\": \"Evening (shows every 30 minutes until 8 PM, then every 15 minutes)\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas (Fremont Street Experience)\",\n      \"bestTimeToVisit\": \"Evening\",\n      \"locations\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A pedestrian mall in downtown Las Vegas featuring a massive video screen canopy with light and music shows. Explore the surrounding casinos and attractions.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a8/Fremont_Street_Experience_Las_Vegas_2018.jpg/1280px-Fremont_Street_Experience_Las_Vegas_2018.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1422\n          },\n          \"ticketPricing\": \"Free (some attractions within Fremont Street may have fees)\",\n          \"rating\": 4.6,\n          \"travelTimeFromHotel\": \"Taxi, ride-share, or bus from the Strip (approx. 20-30 minutes)\",\n          \"bestTimeToVisit\": \"Evening (for the light shows)\"\n        },\n        {\n          \"placeName\": \"SlotZilla Zip Line\",\n          \"placeDetails\": \"For thrill-seekers, try the SlotZilla zip line that runs above Fremont Street.\",\n          \"placeImageUrl\": \"https://fremontstreetexperience.com/wp-content/uploads/2021/12/SlotZilla-Lower-Zoomline.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1706,\n            \"longitude\": -115.1421\n          },\n          \"ticketPricing\": \"$39-$49 depending on the time of day\",\n          \"rating\": 4.3,\n          \"travelTimeFromHotel\": \"Located on Fremont Street.\",\n          \"bestTimeToVisit\": \"Evening (for the view of Fremont Street lights)\"\n        },\n        {\n          \"placeName\": \"Gold & Silver Pawn Shop\",\n          \"placeDetails\": \"made famous by the show Pawn Stars.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/0/03/Gold_%26_Silver_Pawn_Shop_Las_Vegas.jpg/1280px-Gold_%26_Silver_Pawn_Shop_Las_Vegas.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1780512,\n            \"longitude\": -115.1418607\n          },\n          \"ticketPricing\": \"Free to enter\",\n          \"rating\": 4.0,\n          \"travelTimeFromHotel\": \"Taxi, ride-share, or bus from the Strip (approx. 20-30 minutes)\",\n          \"bestTimeToVisit\": \"Anytime during the day\"\n        },\n          {\n            \"placeName\": \"Mob Museum\",\n            \"placeDetails\": \"Learn about the history of organized crime at the Mob Museum.\",\n            \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/10/The_Mob_Museum_Las_Vegas.jpg/1280px-The_Mob_Museum_Las_Vegas.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1713086,\n              \"longitude\": -115.1403335\n            },\n            \"ticketPricing\": \"$29.95 per person\",\n            \"rating\": 4.6,\n            \"travelTimeFromHotel\": \"Taxi, ride-share, or bus from the Strip (approx. 20-30 minutes)\",\n            \"bestTimeToVisit\": \"Anytime during the day\"\n          }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"High Roller Observation Wheel & Exploring the Central Strip\",\n      \"bestTimeToVisit\": \"Afternoon/Evening\",\n      \"locations\": [\n        {\n          \"placeName\": \"High Roller Observation Wheel\",\n          \"placeDetails\": \"Enjoy panoramic views of Las Vegas from the High Roller observation wheel.\",\n          \"placeImageUrl\": \"https://www.caesars.com/content/dam/clv/Things%20To%20Do/attractions/high-roller/clv_thelinq_highroller_exterior_day_4x3.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1167,\n            \"longitude\": -115.1694\n          },\n          \"ticketPricing\": \"$25 - $37 (depending on time of day; book in advance for discounts)\",\n          \"rating\": 4.4,\n          \"travelTimeFromHotel\": \"Taxi, ride-share, or bus from most Strip hotels (approx. 10-15 minutes)\",\n          \"bestTimeToVisit\": \"Sunset for the best views\"\n        },\n        {\n          \"placeName\": \"The LINQ Promenade\",\n          \"placeDetails\": \"Explore the shops, restaurants, and attractions at The LINQ Promenade, located beneath the High Roller.\",\n          \"placeImageUrl\": \"https://static.linqpromenade.com/wp-content/uploads/2016/06/LINQ-Promenade-Things-To-Do.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1164,\n            \"longitude\": -115.1698\n          },\n          \"ticketPricing\": \"Free to enter; individual attractions may have fees\",\n          \"rating\": 4.2,\n          \"travelTimeFromHotel\": \"Adjacent to the High Roller; easily walkable\",\n          \"bestTimeToVisit\": \"Afternoon/Evening\"\n        },\n        {\n          \"placeName\": \"Explore the Mirage Volcano\",\n          \"placeDetails\": \"Witness the volcano erupt with fireballs and explosions in a mesmerizing show.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/8/8b/Mirage_volcano.jpg/1280px-Mirage_volcano.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1212,\n            \"longitude\": -115.1751\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"travelTimeFromHotel\": \"Walking distance or short ride from the High Roller area.\",\n          \"bestTimeToVisit\": \"Evening (shows typically every hour from 8 PM to 11 PM)\"\n        },\n        {\n          \"placeName\": \"Walk the Strip\",\n          \"placeDetails\": \"Spend the rest of the evening strolling along the Las Vegas Strip, enjoying the sights and sounds. Window shop, people-watch, and soak in the atmosphere.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/71/The_Strip_at_night%2C_Las_Vegas.jpg/1280px-The_Strip_at_night%2C_Las_Vegas.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.7,\n          \"travelTimeFromHotel\": \"Depends on the hotel location.\",\n          \"bestTimeToVisit\": \"Evening\"\n        }\n      ]\n    }\n  }\n}\n```\n\n**Important Notes for Budget Travel:**\n\n*   **Hotel Prices:** These are estimates and can fluctuate. Book in advance and look for deals.  Consider visiting during the off-season (summer is very hot, avoid major holidays/conventions).\n*   **Food:** Eat at affordable restaurants, fast food places, or grab groceries.  Look for happy hour specials.\n*   **Transportation:** Use the bus (Deuce) or monorail when possible. Walking is free!  Avoid taxis unless necessary.  Ride-sharing apps can be economical but prices surge during peak times.\n*   **Attractions:** Take advantage of free attractions and shows.  Look for discounts or package deals for paid attractions.\n*   **Gambling:** If you gamble, set a strict budget and stick to it.\n*   **Water:**  Stay hydrated, especially in the summer.  Buy water bottles or bring a refillable bottle.\n*   **Book in Advance:** Booking accommodations, shows, and some attractions in advance can often save you money.\n\nThis plan gives you a good starting point for an amazing and budget-friendly Las Vegas trip!  Enjoy!\n"},
          ],
        },
      ],
    });
  
    
  